<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>com.thanx.sdk.cardEncryption</title>
    <link href="../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script type="text/javascript" src="../../scripts/sourceset_dependencies.js" async="async"></script>
    <link href="../../styles/style.css" rel="Stylesheet">
    <link href="../../styles/logo-styles.css" rel="Stylesheet">
    <link href="../../styles/jetbrains-mono.css" rel="Stylesheet">
    <link href="../../styles/main.css" rel="Stylesheet">
    <script type="text/javascript" src="../../scripts/clipboard.js" async="async"></script>
    <script type="text/javascript" src="../../scripts/navigation-loader.js" async="async"></script>
    <script type="text/javascript" src="../../scripts/platform-content-handler.js" async="async"></script>
    <script type="text/javascript" src="../../scripts/main.js" async="async"></script>
    <script>var pathToRoot = "../../";</script>
  </head>
  <body>
    <div id="container">
      <div id="leftColumn">
        <div id="logo"></div>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <div id="leftToggler"><span class="icon-toggler"></span></div>
        <div id="searchBar"></div>
        <script type="text/javascript" src="../../scripts/pages.js"></script>
        <script type="text/javascript" src="../../scripts/main.js"></script>
        <div id="content" pageIds="com.thanx.sdk.cardEncryption////PointingToDeclaration//1945512718">
          <div class="breadcrumbs"><a href="../index.html">Thanx SDK</a>/<a href="index.html">com.thanx.sdk.cardEncryption</a></div>
          <div class="cover ">
            <h1 class="cover"><span>Package com.</span><wbr></wbr><span>thanx.</span><wbr></wbr><span>sdk.</span><wbr></wbr><span>cardEncryption</span></h1>
            <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":sdk:dokkaHtml/Android"><p class="paragraph">This package provides methods to encrypt credit cards so you can then send the encrypted PAN to the <a href="https://docs.thanx.com/#create-card">Thanx API to create and enroll</a> a card into the loyalty platform.</p><p class="paragraph">Important! Do not send plaintext credit card numbers to the Thanx API.</p><p class="paragraph">For the following methods to work, you must first get the encryption details via the Thanx API <a href="https://docs.thanx.com/#get-signature">GET signature</a> endpoint. This endpoint provides the necessary public key for the encryption as well as the additional <code>uid</code> for Visa cards.</p><h3 class=""> Visa</h3><p class="paragraph">To encrypt Visa cards, you will need the public key and the <code>uid</code> from the signature endpoint. Once you have have that information, use these steps to generate the encrypted pan:</p><div class="sample-container"><code class="" theme="idea"><pre>// VisaEncryption.java<br><br>String publicKey = &quot;&quot; // from the signature details<br>String uid = &quot;&quot; // from the signature details<br>String cardNumber = &quot;&quot; // from your application user form<br><br>try {<br>  CardEncryption thanxCardEncryption = new CardEncryption(<br>    CardEncryption.CardType.VISA,<br>    publicKey,<br>    uid<br>  );<br><br>  thanxCardEncryption.encrypt(cardNumber);<br>} catch (CardEncryption.EncryptionError encryptionError) {<br>  encryptionError.getMessage();<br>}</pre></code></div><h3 class=""> Mastercard</h3><p class="paragraph">For Mastercard encryption, you only need the public key from the signature endpoint.</p><div class="sample-container"><code class="" theme="idea"><pre>// MastercardEncryption.java<br><br>String publicKey = &quot;&quot; // from the signature details<br>String cardNumber = &quot;&quot; // from your application user form<br><br>try {<br>  CardEncryption thanxCardEncryption = new CardEncryption(<br>    CardEncryption.CardType.MASTERCARD,<br>    publicKey,<br>    null<br>  );<br><br>  thanxCardEncryption.encrypt(cardNumber);<br>} catch (CardEncryption.EncryptionError encryptionError) {<br>  encryptionError.getMessage();<br>}</pre></code></div><h3 class=""> Amex</h3><p class="paragraph">For Amex encryption, you only need the public key from the signature endpoint.</p><div class="sample-container"><code class="" theme="idea"><pre>// AmexEncryption.java<br><br>String publicKey = &quot;&quot; // from the signature details<br>String cardNumber = &quot;&quot; // from your application user form<br><br>try {<br>  CardEncryption thanxCardEncryption = new CardEncryption(<br>    CardEncryption.CardType.AMEX,<br>    publicKey,<br>    null<br>  );<br><br>  thanxCardEncryption.encrypt(cardNumber);<br>} catch (CardEncryption.EncryptionError encryptionError) {<br>  encryptionError.getMessage();<br>}</pre></code></div><p class="paragraph">Note: Credit card numbers passed to the <code>encrypt</code> method must first be sanitized of all non-numeric characters – this means no spaces!</p><p class="paragraph">Once you have the <code>encryptedPan</code>, you can send it to the <a href="https://docs.thanx.com/#create-card">create card endpoint</a> as the <code>encrypted_pan</code> parameter.</p></div></div>
          </div>
          <div class="tabbedcontent">
            <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="Types">Types</button></div>
            <div class="tabs-section-body">
              <h2 class="">Types</h2>
              <div class="table" data-togglable="Types"><a data-name="%5Bcom.thanx.sdk.cardEncryption%2FCardEncryption%2F%2F%2FPointingToDeclaration%2F%5D%2FClasslikes%2F1945512718" anchor-label="CardEncryption" id="%5Bcom.thanx.sdk.cardEncryption%2FCardEncryption%2F%2F%2FPointingToDeclaration%2F%5D%2FClasslikes%2F1945512718" data-filterable-set=":sdk:dokkaHtml/Android"></a>
                <div class="table-row" data-filterable-current=":sdk:dokkaHtml/Android" data-filterable-set=":sdk:dokkaHtml/Android">
                  <div class="main-subrow keyValue ">
                    <div class=""><span class="inline-flex"><a href="-card-encryption/index.html">CardEncryption</a><span class="anchor-wrapper"><span class="anchor-icon" pointing-to="%5Bcom.thanx.sdk.cardEncryption%2FCardEncryption%2F%2F%2FPointingToDeclaration%2F%5D%2FClasslikes%2F1945512718"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M21.2496 5.3C20.3496 4.5 19.2496 4 18.0496 4C16.8496 4 15.6496 4.5 14.8496 5.3L10.3496 9.8L11.7496 11.2L16.2496 6.7C17.2496 5.7 18.8496 5.7 19.8496 6.7C20.8496 7.7 20.8496 9.3 19.8496 10.3L15.3496 14.8L16.7496 16.2L21.2496 11.7C22.1496 10.8 22.5496 9.7 22.5496 8.5C22.5496 7.3 22.1496 6.2 21.2496 5.3Z"/>
    <path d="M8.35 16.7998C7.35 17.7998 5.75 17.7998 4.75 16.7998C3.75 15.7998 3.75 14.1998 4.75 13.1998L9.25 8.6998L7.85 7.2998L3.35 11.7998C1.55 13.5998 1.55 16.3998 3.35 18.1998C4.25 19.0998 5.35 19.4998 6.55 19.4998C7.75 19.4998 8.85 19.0998 9.75 18.1998L14.25 13.6998L12.85 12.2998L8.35 16.7998Z"/>
</svg></span>
                          <div class="copy-popup-wrapper "><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M18 9C18 14 14 18 9 18C4 18 0 14 0 9C0 4 4 0 9 0C14 0 18 4 18 9ZM14.2 6.2L12.8 4.8L7.5 10.1L5.3 7.8L3.8 9.2L7.5 13L14.2 6.2Z" fill="#4DBB5F"/>
</svg><span>Link copied to clipboard</span></div>
                        </span></span></div>
                    <div>
                      <div class="title"><div class="divergent-group" data-filterable-current=":sdk:dokkaHtml/Android" data-filterable-set=":sdk:dokkaHtml/Android"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":sdk:dokkaHtml/Android"><div class="symbol monospace">class <a href="-card-encryption/index.html">CardEncryption</a>(type: <a href="-card-encryption/-card-type/index.html">CardEncryption.CardType</a>, publicKeyString: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a>, uid: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a>?)<span class="top-right-position"><span class="copy-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M5 4H15V16H5V4ZM17 7H19V18V20H17H8V18H17V7Z" fill="black"/>
                       </svg></span><div class="copy-popup-wrapper popup-to-left"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M18 9C18 14 14 18 9 18C4 18 0 14 0 9C0 4 4 0 9 0C14 0 18 4 18 9ZM14.2 6.2L12.8 4.8L7.5 10.1L5.3 7.8L3.8 9.2L7.5 13L14.2 6.2Z" fill="#4DBB5F"/>
</svg><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<a data-name="%5Bcom.thanx.sdk.cardEncryption%2FCardEncryption%2F%2F%2FPointingToDeclaration%2F%5D%2FClasslikes%2F1945512718" anchor-label="CardEncryption" id="%5Bcom.thanx.sdk.cardEncryption%2FCardEncryption%2F%2F%2FPointingToDeclaration%2F%5D%2FClasslikes%2F1945512718" data-filterable-set=":sdk:dokkaHtml/Android"></a><div class="brief "><a data-name="%5Bcom.thanx.sdk.cardEncryption%2FCardEncryption%2F%2F%2FPointingToDeclaration%2F%5D%2FClasslikes%2F1945512718" anchor-label="CardEncryption" id="%5Bcom.thanx.sdk.cardEncryption%2FCardEncryption%2F%2F%2FPointingToDeclaration%2F%5D%2FClasslikes%2F1945512718" data-filterable-set=":sdk:dokkaHtml/Android"></a>Class used to encrypt Visa, MasterCard, and Amex cards for enrollment into the Thanx loyalty platform.</div></div>
</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#container"><svg width="12" height="10" viewBox="0 0 12 10" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M11.3337 9.66683H0.666992L6.00033 3.66683L11.3337 9.66683Z" fill="black"/>
    <path d="M0.666992 0.333496H11.3337V1.66683H0.666992V0.333496Z" fill="black"/>
</svg></a></span><span>© 2020 Copyright</span><span class="pull-right"><span>Sponsored and developed by dokka</span><a href="https://github.com/Kotlin/dokka"><span class="padded-icon"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M8 0H2.3949L4.84076 2.44586L0 7.28662L0.713376 8L5.55414 3.15924L8 5.6051V0Z" fill="black"/>
</svg></span></a></span></div>
      </div>
    </div>
  </body>
</html>

